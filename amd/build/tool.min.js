define(["jquery","./global"],function(a,b){function c(){return this._instanceID=e(),this}var d=0,e=function(){return++d};return c.getInstanceCount=function(){return d},c.prototype.getInstanceID=function(){return this._instanceID},c.id=-1,c.axis=-1,c.typetool=-1,c.type=null,c.colors="",c.cartridge="",c.cartridgeColor="",c.texts="",c.label="",c.reply=!0,c.enabled=!0,c.orderTool=1e3,c.prototype.init=function(a){this.id=parseInt(a.id,10)||0,this.axis=parseInt(a.axis,10)||0,this.type=a.type,this.colors=a.colors,this.cartridge=a.cartridge,this.cartridgeColor=a.cartridgeColor,this.texts=a.texts,this.label=a.label,this.reply=a.reply,this.enabled=a.enabled,this.orderTool=a.orderTool},c.prototype.initAdmin=function(a){this.id=parseInt(a.toolid,10)||0,this.typetool=a.typetool,this.label=a.button,this.enabled=a.enable,this.orderTool=a.orderTool},c.prototype.getToolTypeLabel=function(){return this.type.label},c.prototype.getToolTypeCartX=function(){return this.type.cartridgeX},c.prototype.getToolTypeCartY=function(){return this.type.cartridgeY},c.prototype.get_color=function(){var a=b.ANNOTATIONCOLOUR[this.colors];return a?(a=a.replace("rgb","rgba"),a=a.replace(")",",0.5)")):a=this.colors,a&&""!==a?a:this.type.get_color()},c.prototype.get_color_cartridge=function(){var a=b.ANNOTATIONCOLOUR[this.cartridgeColor];return a?(a=a.replace("rgb","rgba"),a=a.replace(")",",0.5)")):a=this.cartridgeColor,a&&""!==a?a:this.type.get_color_cartridge()},c.prototype.getButton=function(a){var b="btn-default",c="";1!==this.enabled&&(b="",c="background-image:none;background-color:#CCCCCC;"),this.id===a&&(b="btn-primary"),4!==this.typetool&&1!==this.typetool||(c+="text-decoration: underline;");var d=this.label;4!==this.typetool&&5!==this.typetool||(d="| "+d,4===this.typetool&&(d+=" |"));var e="<button class='btn "+b+" editpdlplus_tool' id='editpdlplus_tool_"+this.id+"' style='"+c+"' value='"+this.id+"' data-enable='"+this.enabled+"'>"+d+"</button>";return e},c});